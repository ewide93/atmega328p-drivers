//==================================================================================================
//
// File name: uart.c
//
// Purpose:
//
//==================================================================================================


//==================================================================================================
// Include directives
//==================================================================================================
#include "uart.h"
#include "isr.h"

//==================================================================================================
// Local preprocessor definitions
//==================================================================================================


//==================================================================================================
// Local preprocessor definitions
//==================================================================================================


//==================================================================================================
// Local variables
//==================================================================================================


//==================================================================================================
// Local function prototypes
//==================================================================================================


//==================================================================================================
// External variable definitions
//==================================================================================================


//==================================================================================================
// Local function definitions
//==================================================================================================


//==================================================================================================
// External function definitions
//==================================================================================================
void UART_Init(void)
{
    // NOTE: Simple 8N1 configuration for test purposes.

    // 8-bit payload.
    UCSR0C |= (0x03 << 1);
    UBRR0 = 103;

    // Enable transmitter hardware.
    UCSR0B |= (1 << TXEN0);

}

void UART_WriteByteBlocking(const char Data)
{
    while (!(UCSR0A & (1 << UDRE0))) { };
    UDR0 = Data;
}



