////////////////////////////////////////////////////////////////////////////////////////////////////
//
// File: digital.h
//
// Purpose: Header-file containing type-definitions and function prototypes related to
//          the configuration and use of digital pins.
//
////////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef _DIGITAL_H
#define _DIGITAL_H_


////////////////////////////////////////////////////////////////////////////////////////////////////
// 
// Include directives
// 
////////////////////////////////////////////////////////////////////////////////////////////////////
#include "hw_conf.h"
#include "types.h"


////////////////////////////////////////////////////////////////////////////////////////////////////
// 
// Macro definitions.
// 
////////////////////////////////////////////////////////////////////////////////////////////////////
#define PIN_NUM_MAX 7


////////////////////////////////////////////////////////////////////////////////////////////////////
// 
// Definitions of enumerations and structures.
// 
////////////////////////////////////////////////////////////////////////////////////////////////////
typedef enum IO_MODE
{
    INPUT,
    INPUT_PULLUP,
    OUTPUT
} IO_MODE;

typedef enum IO_PORT
{
    IO_PORT_B,
    IO_PORT_C,
    IO_PORT_D
} IO_PORT;

typedef struct Digital_PinType
{
    volatile uint8_t* PORT;
    volatile uint8_t* DDR;
    volatile uint8_t* PIN;
    uint8_t PinNum;
} Digital_PinType;


////////////////////////////////////////////////////////////////////////////////////////////////////
// 
// Object declarations.
// 
////////////////////////////////////////////////////////////////////////////////////////////////////
extern Digital_PinType Pin3;
extern Digital_PinType Pin4;


////////////////////////////////////////////////////////////////////////////////////////////////////
// 
// Function prototypes.
// 
////////////////////////////////////////////////////////////////////////////////////////////////////
void Digital_PinInit(Digital_PinType* PinPtr, enum IO_PORT Port, enum IO_MODE Mode, uint8_t PinNum);
void Digital_SetPin(Digital_PinType* PinPtr);
void Digital_ClrPin(Digital_PinType* PinPtr);
void Digital_TogglePin(Digital_PinType* PinPtr);
bool Digital_ReadPin(Digital_PinType* PinPtr);


#endif // _DIGITAL_H_